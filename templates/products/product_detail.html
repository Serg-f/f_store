{% extends 'products/base.html' %}
{% load static %}

<!-- Custom styles for this template -->
{% block css %}
    <link href="{% static '/vendor/css/product_detail.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="container detail">
        <!-- Add this at the top of your product_detail.html -->


        <div class="row">

            <div class="col-md-6">
                {#                <a id="backButton" href="{% url 'products:category' prod.category.id %}?page={{ page_number }}">#}
                {#                    <img src="{% static 'vendor/img/products/back-button-squeezed.png' %}" alt="Back">#}
                {#                </a>#}

                <a id="backButton" href="{% url 'products:category' prod.category.id %}?page={{ page_number }}"
                   class="back-to-catalog-link">
                    <span class="back-arrow">&#8592;</span> <span class="to-catalog-text">to catalog</span>
                </a>

                <div class="sticky-image"><img id="image" src="{{ prod.image.url }}" alt="{{ prod.name }}"
                                               class="img-fluid"></div>
            </div>
            <div class="col-md-6">
                <h1 id="name">{{ prod.name }}</h1>
                <p>{{ prod.description|safe }}</p>
                <div class="price">
                    <span id="price" class="amount">{{ prod.price }} â‚¬</span>
                </div>
                <button onclick="createCartItem({{ prod.id }}, 'ids', 'prod-id')" class="btn btn-primary add-to-cart"
                        prod-id="{{ prod.id }}">Add to Cart
                </button>
                <a href="{% url 'users:profile' %}" class="btn btn-secondary go-to-cart">Go to Cart</a>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            sessionStorage.setItem('scrollToProduct', '{{ prod.id }}');
        });
    </script>
{% endblock %}
